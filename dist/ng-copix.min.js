/*! ng-copix 27-08-2015 */
!function(o,e){"use strict";e.module("ngCopixboard",[]).provider("ngCopix",function(){var o=this;return this.zeroClipboardPath="//cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.1.6/ZeroClipboard.swf",this.zeroClipboardContainerId="global-zeroclipboard-html-bridge",{setZeroClipboardPath:function(e){o.zeroClipboardPath=e},setZeroClipboardConfig:function(e){o.zeroClipboardConfig=e},setZeroClipboardContainerId:function(e){o.zeroClipboardContainerId=e},$get:function(){return{zeroClipboardPath:o.zeroClipboardPath,zeroClipboardConfig:o.zeroClipboardConfig,zeroClipboardContainerId:o.zeroClipboardContainerId}}}}).run(["ngCopix",function(o){var n={swfPath:o.zeroClipboardPath,trustedDomains:["*"],allowScriptAccess:"always",containerId:o.zeroClipboardContainerId,forceHandCursor:!0};ZeroClipboard.config(e.extend(n,o.config||{}))}]).directive("copixRange",["ngCopix",function(n){function i(o){return"boolean"==typeof o}var r;return{scope:{copixRange:"&",copixAfterCopied:"&",copixFallback:"&",copixUseExecCommand:"=",copixUseFlash:"="},restrict:"A",link:function(a,t,c){i(a.copixUseExecCommand)||(a.copixUseExecCommand=!0),i(a.copixUseFlash)||(a.copixUseFlash=!0);var p,l=ZeroClipboard.isFlashUnusable();!a.copixUseFlash||l||r||(p=new ZeroClipboard(t),p.on("ready",function(){p.on("beforecopy",function(){document.queryCommandSupported("copy")&&a.copixUseExecCommand&&(p.destroy(),p=null,r=!0,e.element(document.querySelector("#"+n.zeroClipboardContainerId)).remove(),t[0].click(),t[0].blur())}),p.on("copy",function(o){var e=o.clipboardData;e.setData(c.copixRangeMimeType||"text/plain",a.$eval(a.copixRange))}),p.on("aftercopy",function(){e.isDefined(c.copixAfterCopied)&&a.$apply(a.copixAfterCopied),t[0].blur()}),a.$on("$destroy",function(){p.destroy()})})),t.bind("click",function(){if(""===c.copixRange&&(a.copixRange=function(){return t[0].previousElementSibling.innerText||t[0].previousElementSibling.textContent}),document.queryCommandSupported("copy")&&a.copixUseExecCommand){o.getSelection().removeAllRanges();var n=e.element("<input />");n.attr("value",a.$eval(a.copixRange)),t.parent()[0].insertBefore(n[0],t[0]),n[0].select();try{var i=document.execCommand("copy");i&&e.isDefined(c.copixAfterCopied)&&a.$apply(a.copixAfterCopied)}catch(r){a.$apply(a.copixFallback({$event:event,copy:a.$eval(a.copixRange)}))}return o.getSelection().removeAllRanges(),void n.remove()}l&&!a.copixUseExecCommand&&a.$apply(a.copixFallback({$event:event,copy:a.$eval(a.copixRange)}))})}}}])}(window,window.angular);
